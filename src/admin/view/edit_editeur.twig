{% extends "layout.twig" %}

{% block body_class %}edit-editeur-page{% endblock %}

{% block content %}
<div class="edit-editeur-container">
    <h1 class="edit-editeur-title">Modifier l'éditeur</h1>
    <form class="edit-editeur-form" method="POST">
        <div class="edit-editeur-field">
            <label for="edit-pseudo" class="edit-editeur-label">Société :</label>
            <input type="text" id="edit-pseudo" name="pseudo" value="{{ editeur.nom_societe }}" required class="edit-editeur-input">
        </div>
         <div class="edit-editeur-field">
            <label for="edit-mail" class="edit-editeur-label">Email :</label>
            <input type="email" id="edit-mail" name="mail" value="{{ editeur.mail_editeur }}" required class="edit-editeur-input">
        </div>
        <div class="edit-editeur-field">
            <label for="edit-adresse" class="edit-editeur-label">Adresse :</label>
            <input type="text" id="edit-adresse" name="adresse" value="{{ editeur.adresse_editeur }}" required class="edit-editeur-input">
        </div>
        <div class="edit-editeur-field">
            <label for="edit-adresse" class="edit-editeur-label">Siret :</label>
            <input type="text" id="edit-siret" name="siret" value="{{ editeur.siret }}" required class="edit-editeur-input">
        </div>
        <div class="edit-editeur-profile-image">
            <p class="edit-editeur-image-label">Image de profil actuelle :</p>
            <img src="{{ editeur.chemin_img_editeur }}" alt="Image de profil de {{ editeur.nom_societe }}" class="edit-editeur-image">
        </div>
        
        <div class="edit-editeur-actions">
            <button type="submit" name="action" value="reset_image" class="edit-editeur-button edit-editeur-button-reset">Réinitialiser l'image de profil</button>
            <button type="submit" name="action" value="update" class="edit-editeur-button edit-editeur-button-save">Enregistrer les modifications</button>
        </div>
         
    </form>
   <div class="edit-editeur-danger-zone">
        <p class="danger-zone-text">Attention : La suppression d'un éditeur est irréversible.</p>
        <button onclick="confirmDelete()" class="edit-editeur-button edit-editeur-button-delete">Supprimer l'éditeur</button>
    </div>

    <!-- Formulaire de suppression -->
    <form id="deleteForm" action="/editeur/delete/{{ editeur.id_editeur }}" method="POST"></form>
</div>

<style>
.edit-editeur-danger-zone {
    margin-top: 40px;
    padding: 20px;
    border: 2px solid #dc3545;
    border-radius: 8px;
}

.danger-zone-title {
    color: #dc3545;
    font-size: 1.2em;
    margin-bottom: 10px;
}

.danger-zone-text {
    color: #721c24;
    margin-bottom: 15px;
}

.edit-editeur-button-delete {
    background-color: #dc3545;
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}

.edit-editeur-button-delete:hover {
    background-color: #c82333;
}
</style>

<script>
function confirmDelete() {
    if (confirm('Êtes-vous sûr de vouloir supprimer cet éditeur ? Cette action est irréversible.')) {
        document.getElementById('deleteForm').submit();
    }
}
</script>
{% endblock %}
